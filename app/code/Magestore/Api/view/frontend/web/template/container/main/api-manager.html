<div id="api_manager" class="col-left left col s4">
    <ul class="collection with-header">
        <li class="collection-header">
            <h5 data-bind="i18n:'HTTP request options'"></h5>
            <a href="#" data-activates="mapi_side_nav" class="button-collapse side_nav_active_button"><i class="material-icons medium ">menu</i></a>
        </li>
        <li class="collection-item">
            <div class="row">
                <div class="col s4 input-field">
                    <select id="method_selector"
                            name="method_selector"
                            class="validate valid"
                            data-bind="
                            value: method,
                            options: methods,
                            optionsText: function(item) {return item.text;},
                            optionsValue: function(item) {return item.value;  }
                            ">
                    </select>
                    <label for="method_selector" data-bind="i18n:'Method'"></label>
                </div>
                <div class="col s8 input-field">
                    <input type="text"
                           id="endpoint"
                           name="endpoint"
                           class="validate tooltipped"
                           data-position="right"
                           data-delay="50"
                           data-html="true"
                           data-tooltip="
                           <ul>
                               <li class='left-align'>Example format:</li>
                               <li class='left-align'>products</li>
                               <li class='left-align'>products/:sku</li>
                               <li class='left-align'>http://m2.magentovn.com/rest/V1/products</li>
                           </ul>
                           "
                           keyboard="{
                                13: function (e) {
                                    send();
                                }
                           }"
                           data-bind="textInput:endpoint, autoselect:true"/>
                    <label for="endpoint"
                           data-bind="i18n:'Endpoint'"
                           data-error="Endpoint is required"></label>
                </div>
            </div>
        </li>
        <li class="collection-item">
            <div class="row sub_header_wrapper">
                <div class="sub_header left" data-bind="i18n:'Header'"></div>
                <i class="material-icons right" data-bind="click:addHeader">add_box</i>
            </div>
            <ul class="collection api_headers" data-bind="foreach: requestHeaders">
                <li class="collection-item row">
                    <div class="col s4 input-field">
                        <input type="text" placeholder="Name" data-bind="textInput:key, autoselect:true"/>
                    </div>
                    <div class="col s7 input-field">
                        <input type="text" placeholder="Value" data-bind="textInput:value, autoselect:true"/>
                    </div>
                    <div class="col s1 action-field">
                        <i class="material-icons right" data-bind="click:$parent.removeHeader.bind($parent)">delete</i>
                    </div>
                </li>
            </ul>
        </li>
        <li class="collection-item">
            <div class="row sub_header_wrapper">
                <div class="sub_header left" data-bind="i18n:'Url Params'"></div>
                <i class="material-icons right" data-bind="click:addUrlParam">add_box</i>
            </div>
            <ul class="collection api_url_params" data-bind="foreach: urlParams">
                <li class="collection-item row">
                    <div class="col s4 input-field">
                        <input type="text" placeholder="Name" data-bind="textInput:key, autoselect:true"/>
                    </div>
                    <div class="col s7 input-field">
                        <input type="text" placeholder="Value" data-bind="textInput:value, autoselect:true"/>
                    </div>
                    <div class="col s1 action-field">
                        <i class="material-icons right" data-bind="click:$parent.removeUrlParam.bind($parent)">delete</i>
                    </div>
                </li>
            </ul>
        </li>
        <li class="collection-item">
            <div class="row sub_header_wrapper">
                <div class="sub_header left" data-bind="i18n:'Payload'"></div>
                <i class="material-icons right" data-bind="click:addPayload">add_box</i>
            </div>
            <ul class="collection api_payload" data-bind="foreach: payload">
                <li class="collection-item row">
                    <div class="col s4 input-field">
                        <input type="text" placeholder="Name" data-bind="textInput:key, autoselect:true"/>
                    </div>
                    <div class="col s7 input-field">
                        <input type="text" placeholder="Value" data-bind="textInput:value, autoselect:true"/>
                    </div>
                    <div class="col s1 action-field">
                        <i class="material-icons right" data-bind="click:$parent.removePayload.bind($parent)">delete</i>
                    </div>
                </li>
            </ul>
        </li>
        <li class="collection-item">
            <div class="row sub_header_wrapper">
                <div class="sub_header left" data-bind="i18n:'Search Criteria Builder'"></div>
                <i class="material-icons right" data-bind="click:addFilterGroup">add_box</i>
            </div>
            <ul class="collection api_criterial_general">
                <li class="collection-item row">
                    <div class="col s6 input-field">
                        <input type="text" placeholder="Page Size" data-bind="textInput:pageSize, autoselect:true"/>
                    </div>
                    <div class="col s6 input-field">
                        <input type="text" placeholder="Current Page" data-bind="textInput:currentPage, autoselect:true"/>
                    </div>
                </li>
            </ul>
            <ul class="collection api_sort_orders">
                <li class="controls">
                    <div class="controls_title left" data-bind="i18n:'Sort Orders'"></div>
                    <i class="material-icons right" data-bind="click:addSortOrder">add_box</i>
                </li>
                <li class="collection-item row">
                    <ul class="collection api_filters" data-bind="foreach: sortOrders">
                        <li class="collection-item row">
                            <div class="col s8 input-field">
                                <input type="text" placeholder="Field" data-bind="textInput:field, autoselect:true"/>
                            </div>
                            <div class="col s3">
                                <select name="direction_selector"
                                        class="validate valid browser-default"
                                        data-bind="
                                    value: direction,
                                    options: $parent.directions,
                                    optionsText: function(item) {return item.text;},
                                    optionsValue: function(item) {return item.value;},
                                    afterRender: $parent.renderSelectElement
                                    ">
                                </select>
                            </div>
                            <div class="col s1 action-field">
                                <i class="material-icons right" data-bind="click:$parent.removeSortOrder.bind($parent)">delete</i>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul class="collection api_filter_groups" data-bind="foreach: filterGroups">
                <li class="controls">
                    <div class="controls_title left" data-bind="i18n:'Filter Group'"></div>
                    <i class="material-icons right" data-bind="click:$parent.addFilter">add_box</i>
                    <i class="material-icons right" data-bind="click:$parent.removeFilterGroup.bind($parent)">delete</i>
                </li>
                <li class="collection-item row">
                    <ul class="collection api_filters" data-bind="foreach: filters">
                        <li class="collection-item row">
                            <div class="col s3 input-field">
                                <input type="text" placeholder="Field" data-bind="textInput:field, autoselect:true"/>
                            </div>
                            <div class="col s5 input-field">
                                <input type="text" placeholder="Value" data-bind="textInput:value, autoselect:true"/>
                            </div>
                            <div class="col s3">
                                <select name="condition_type_selector"
                                        class="validate valid browser-default"
                                        data-bind="
                                    value: condition_type,
                                    options: $parents[1].conditionTypes,
                                    optionsText: function(item) {return item.text;},
                                    optionsValue: function(item) {return item.value;},
                                    afterRender: $parents[1].renderSelectElement
                                    ">
                                </select>
                            </div>
                            <div class="col s1 action-field">
                                <i class="material-icons right" data-bind="click:$parents[1].removeFilter.bind($parents[1], $parent, $data)">delete</i>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li class="collection-item">
            <div class="row right-align">
                <button class="btn waves-effect waves-light control-item" data-bind="click:send">
                    <span data-bind="i18n:'Send'"></span>
                    <i class="material-icons right">send</i>
                </button>
            </div>
        </li>
    </ul>
    <span class="hide" data-bind="afterRender:afterRender"></span>
</div>